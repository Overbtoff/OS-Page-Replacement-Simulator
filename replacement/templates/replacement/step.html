{#逐步展示模板#}
{% load static %}
<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title>Page Replacement Simulator</title>
  <!-- Include Tailwind CSS -->
  <link href="{% static 'css/output.css' %}" rel="stylesheet">
</head>
<body class="bg-gray-100 dark:bg-gray-900 text-gray-800 dark:text-gray-200">
  <div class="container mx-auto p-4">

    <!-- Input Section -->
    <section id="inputSection" class="mb-6">
      <div class="flex grid grid-cols-1 md:grid-cols-3 gap-4 ml-4">
        <!-- Page References Input -->
        <div style="display: none">
          <label for="pageReferences" class="block mb-1">Page References:</label>
          <input type="text" id="pageReferences" class="w-full p-2 border rounded" placeholder="e.g., 7 0 1 2 0 3 0 4" value="{{ page_refs_in }}">
          <p id="pageReferencesError" class="error-message">Please enter a valid sequence of numbers.</p>
        </div>
        <!-- Frame Count Input -->
        <div style="display: none">
          <label for="frameCount" class="block mb-1">Number of Frames:</label>
          <input type="number" id="frameCount" class="w-full p-2 border rounded" min="1" placeholder="e.g., 3" value="{{frame_count}}">
          <p id="frameCountError" class="error-message">Please enter a valid number of frames.</p>
        </div>
        <!-- Algorithm Selection -->
        <div >
          <label for="algorithm" class="block mb-1">置换算法:</label>
          <select id="algorithm" class="w-full p-2 border rounded">
            <option value="FIFO">FIFO</option>
            <option value="LRU">LRU</option>
            <option value="LFU">LFU</option>
            <option value="Optimal">OPT</option>
          </select>
        </div>
        <!-- Button -->
        <div class="absolute flex items-end p-2">
         <button id="startSimulation" class="mt-4 px-4 py-2 bg-blue-500 hover:bg-blue-600 text-white rounded">
        开始模拟
      </button>
    </div>
   </div>
      
    </section>



    <!-- Simulation Controls -->
    <section id="controlsSection" class="mb-6">
      <button id="prevStep" class="px-4 py-2 bg-gray-500 hover:bg-gray-600 text-white rounded mr-2" disabled>
        上一步
      </button>
      <button id="nextStep" class="px-4 py-2 bg-gray-500 hover:bg-gray-600 text-white rounded mr-2" disabled>
        下一步
      </button>
      <button id="playPause" class="px-4 py-2 bg-green-500 hover:bg-green-600 text-white rounded" disabled>
        自动播放
      </button>
    </section>

    <!-- Visualization Area -->
    <section id="visualizationArea" class="mb-6">
      <!-- The simulation table will be generated here -->
    </section>

    <!-- Narration Text -->
    <section id="narrationSection" class="mb-6">
      <p id="narrationText" class="italic">等待模拟算法选择~</p>
    </section>



    <!-- Legend Section -->
    <section id="legend" class="mb-6">
      <h3 class="text-lg font-semibold">图例:</h3>
      <ul class="list-disc list-inside">
        <li><span class="inline-block w-4 h-4 page-fault mr-2"></span>缺页 (发生缺页中断并加载到内存里))</li>
        <li><span class="inline-block w-4 h-4 page-hit mr-2"></span>命中 (页面已经在内存中)</li>
      </ul>
    </section>

  </div>

  <!-- Scripts -->
  <script src=" {% static 'js/app.js' %}"></script>
</body>
</html>
